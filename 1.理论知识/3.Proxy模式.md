### MyCat

#### MyCat是什么？

1. 前身是阿里的cobar
2. 一个彻底开源的，面向企业应用开发的大数据库集群
3. ==支持事务、ACID、可以代替MySQL的加强版数据库==
4. 一个可以视为MySQL集群的企业级数据库，用来替代昂贵的Oracle集群
5. 一个融合内存缓存技术、NoSQL技术、HDFS大数据的新型SQL Server
6. 结合传统数据库和新型分布式数据仓库的新一代企业级数据库产品
7. 一个新颖的数据库中间件产品

#### MyCat的用途

1. 多数据源整合
2. 读写分离
3. ==数据分片（垂直拆分、水平拆分、垂直+水平拆分）==
 ![[Pasted image 20221215145309.png]]

#### MyCat的原理

MyCat的原理中最重要的一个动词是==拦截==，它拦截了用户发送过来的SQL语句，首先对SQL语句做了一些特定的分析：==如分片分析、路由分析、读写分离分析、缓存分析等==，然后将此SQL发往后端的真实数据库，并将返回的结果做适当的处理，最终再返回给用户。==这种方式把数据库的分布式从代码中解耦出来，程序员察觉不出来后台使用mycat还是mysql。==
![[Pasted image 20221215145739.png]]

#### MyCat限制

**不支持的SQL语句**
>create table like xxx
  create table select xxx
  select for update
  select lock in share mode
  select into outfile/into var_name

**跨库跨表的限制**
不支持跨库多表关联查询、子查询。
不支持多表UPDATE或者UPDATE分片键。
不支持跨分片的update/delete (order by) limit

**事务的限制**
==Mycat对事务的支持有限：Mycat只支持弱分布式事务。如果事务commit后某节点失效，则无法保证事务的一致性。

### Sharding-sphere

